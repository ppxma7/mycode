
oldlist = """03143_174
05017_014
06398_005
09376_062
09849
10469
10760_130
12162_005
12181_004
12185_004
12219_006
12294
12305_004
12411_004
12422_004
12428_005
12487_003
12578_004
12608_004
12838_004
12869_016
12929_004
12969_004
13006_004
13673_015
13676
14007_003
14342_003
15951_002
15955_002
15999_003
16014_002
16043_002
16046_002
16058_002
16101_002
16102_002
16103_002
16121_002
16122_002
16133_002
16154_002
16174_002
16175_002
16176_002
16231_003
16277_002
16278_002
16280_002
16281_002
16282_002
16283_002
16296_002
16298_002
16299_002
16301_002
16302_002
16303_002
16321_002
16322_002
16377_002
16388_002
16389_002
16390_002
16404_004
16418_002
16419_002
16430_002
16437_002
16438_002
16462_002
16464_002
16465_002
16466_002
16467_002
16494_002
16511_002
16512_002
16513_002
16514_002
16517
16528_002
16542_002
16543_002
16544
16568_002
16570_002
16613_002
16615_002
16618_002
16621_002
16623_002
16627_002
16661_002
16662_002
16663_002
16693_002
16699_002
16701_002
16702_002
16725_002
16726_002
16728_005
16775_002
16787_002
16788_002
16789_002
16791_002
16793_006
16824_002
16866_002
16871_002
16874_002
16878_002
16910_002
16911
16985_002
16986_002
16987_002
17007_002
17040_002
17041_002
17072_002
17073_002
17074_002
17075_002
17076_002
17080_002
17083_002
17084_002
17086_002
17102_002
17103_002
17104_002
17111_002
17127_002
17128_002
17129_002
17173_002
17176_002
17178_002
17180_002
17207_003
17208_002
17210_002
17221_002
17243_002
17275_002
17293_002
17324_002
17341_002
17342_002
17348_002
17364_002
17394_002
17395_002
17449_002
17453_002
17456_002
17491_002
17492_002
17532_002
17577_002
17580_002
17581_002
17589_002
17594_002
17596_002
17607_002
17610_002
17617_002
17698_002
17704_002
17706_002
17723_002
17769_002
17930_002
18031_002
18038_002
18094_002""".split()

# get rid of first 5 digits
list1 = [x.split('_')[0] for x in oldlist]


list2 = """15999
16121
16122
16404
16466
16467
16621
16787
16788
16793
16871
16910
16911
16154
16985
16986
16987
17038
17040
17041
17073
17074
17076
17080
17083
17084
17086
17102
17103
17105
17108
17111
17127
17128
17129
17173
17178
17221
17324
17341
17577
17580
17581
17589
17594
17596
17606
17607
17610
17617
09376
09849
10469
12162
12219
12294
12305
12428
12838
12869
12929
13006
13673
13676
14007
16133
16176
16278
16280
16281
16283
16321
16322
16388
16419
16437
16439
16463
16512
16514
16528
16544
16568
16618
16623
16627
16662
16664
16693
16702
16725
16728
16775
16866
16878
17171
17180
17239
17342
17364
03143
05017
06398
10760
12181
12185
12411
12422
12578
12608
12967
12969
15271
16043
16044
16046
16102
16103
16174
16277
16279
16282
16296
16297
16298
16299
16301
16303
16389
16390
16418
16438
16462
16464
16465
16494
16511
16513
16517
16542
16570
16615
16661
16663
16701
16791
16874
17072
17075
17394
12487
14342
15951
15955
16014
16058
16101
16175
16231
16302
16377
16430
16543
16569
16613
16699
16726
16789
16824
17007
17104
17176
17207
17208
17210
17243
17275
17292
17293
17305
17348
17395
17449
17453
17456
17491
17492
17532
17698
17704
17706
17723
17765
17769
17930
18031
18038
18076
18089
18094""".split()

missing_from_list2 = sorted(set(list1) - set(list2))
print("Missing from list2:", missing_from_list2, len(missing_from_list2))

extra_in_list2 = sorted(set(list2) - set(list1))
print("Extra in list2:", extra_in_list2, len(extra_in_list2))

# Save list2 as a text file
# output_path_list2 = "/Volumes/nemosine/SAN/t1mnispace/list2_clean.txt"

# with open(output_path_list2, "w") as f:
#     for item in list2:
#         f.write(item + "\n")

# print("Saved list2 to:", output_path_list2)

clean_list2 = [subj for subj in list2 if subj not in extra_in_list2]

print(len(clean_list2))
output_path_list2 = "/Volumes/nemosine/SAN/t1mnispace/list2_clean.txt"

with open(output_path_list2, "w") as f:
    for item in clean_list2:
        f.write(item + "\n")

print("Saved cleaned list2 to:", output_path_list2)


agelist="""19
18
19
19
18
18
18
19
19
19
19
19
18
19
18
19
18
18
18
18
19
18
19
19
19
19
18
18
19
19
18
19
18
19
19
19
19
19
18
18
18
19
18
18
18
18
19
18
18
18
34
35
30
39
31
40
43
38
35
33
49
44
46
31
36
45
30
44
46
31
37
39
38
45
34
30
31
35
40
43
33
32
41
45
33
49
45
37
44
42
40
50
50
37
49
47
49
50
46
40
39
46
41
32
40
33
35
31
31
37
43
44
33
31
32
33
45
43
47
45
39
49
45
42
39
38
32
30
38
46
38
46
38
43
50
43
47
31
37
47
41
36
41
38
47
35
43
49
48
46
35
47
45
31
46
48
48
47
49
37
49
37
44
45
45
31
50
50
34
36
32
34
39
39
49
40
49
45
30
41
49
35
34
32
40
43
42
40
36
43
38
33
33
31
38
30
38
41
44
35""".split()

# list1 = 200 subject prefixes (in correct order)
missing = extra_in_list2
missing_indices = [i for i, subj in enumerate(list2) if subj in missing]
clean_ages = [age for i, age in enumerate(agelist) if i not in missing_indices]

output_path = "/Volumes/nemosine/SAN/t1mnispace/clean_age_list.txt"

with open(output_path, "w") as f:
    for item in clean_ages:
        f.write(item + "\n")

print("Saved cleaned list to:", output_path)



